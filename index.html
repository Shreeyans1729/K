<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>F.R.I.E.N.D.S.üíù</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Orbitron:700|Montserrat:400,700&display=swap" rel="stylesheet">
    <!-- Particle.js for animated background -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <!-- Canvas Confetti for final celebration -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        html, body {
            height: 100%;
        }
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            font-family: 'Montserrat', sans-serif;
            overflow: auto;
            position: relative;
        }
        #particles-js {
            position: fixed;
            width: 100vw;
            height: 100vh;
            top: 0;
            left: 0;
            z-index: 0;
            pointer-events: none;
        }
        .page-box {
            background: rgba(30, 30, 50, 0.98);
            border-radius: 24px;
            box-shadow: 0 0 60px 10px #2fffc088, 0 0 0 2px #2fffc0;
            padding: 48px 32px 36px 32px;
            max-width: 700px;
            min-width: 340px;
            position: relative;
            z-index: 5;
            margin: 24px auto;
            animation: glowIn 1s cubic-bezier(.48,.04,.52,1.21);
            backdrop-filter: blur(2px) saturate(1.25);
        }
        @keyframes glowIn {
            0% { box-shadow: 0 0 0 0 #2fffc000; transform: scale(0.95);}
            100% { box-shadow: 0 0 60px 10px #2fffc088, 0 0 0 2px #2fffc0; transform: scale(1);}
        }
        .progress-bar-outer {
            width: 100%;
            height: 10px;
            background: #1a1a2b;
            border-radius: 10px;
            margin-bottom: 24px;
            overflow: hidden;
            box-shadow: 0 0 10px 2px #2fffc044;
        }
        .progress-bar-inner {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #2fffc0 0%, #8a2fff 70%, #00eaff 100%);
            border-radius: 10px;
            transition: width 0.5s cubic-bezier(0.4,0,0.2,1);
            box-shadow: 0 0 10px #2fffc088;
        }
        .login-form h2, .success-box h1, .nicknames-title, .story-title {
            color: #fff;
            text-align: center;
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 20px;
            letter-spacing: 2px;
            text-shadow: 0 0 15px #2fffc0, 0 0 2px #fff;
        }
        .story-title {
            font-size: 2.2rem;
            margin-bottom: 12px;
            margin-top: 0;
        }
        .input-group {
            position: relative;
            margin-bottom: 32px;
        }
        .input-group input,
        .input-group textarea {
            width: 100%;
            padding: 16px 12px 12px 12px;
            border: none;
            outline: none;
            background: #181828;
            color: #fff;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            box-shadow: 0 2px 12px #2fffc044;
            transition: box-shadow 0.2s;
        }
        .input-group input:focus,
        .input-group textarea:focus {
            box-shadow: 0 0 12px 2px #2fffc0, 0 2px 12px #2fffc044;
        }
        .input-group label {
            position: absolute;
            left: 14px;
            top: 16px;
            pointer-events: none;
            color: #9fffe0cc;
            font-size: 1rem;
            transition: all 0.2s;
            letter-spacing: 1px;
            background: transparent;
        }
        .input-group input:focus + label,
        .input-group input:not(:placeholder-shown):not(:focus) + label {
            top: -10px;
            left: 8px;
            font-size: 0.85rem;
            color: #2fffc0;
            background: #181828;
            padding: 0 6px;
            border-radius: 6px;
            box-shadow: 0 0 5px #2fffc044;
        }
        .btn-group {
            display: flex;
            flex-direction: row;
            gap: 24px;
            margin-bottom: 18px;
            justify-content: center;
        }
        .neon-btn {
            flex: 1;
            padding: 14px 0;
            background: #181828;
            color: #fff;
            font-size: 1.1rem;
            font-family: 'Orbitron', sans-serif;
            border: none;
            border-radius: 100px;
            position: relative;
            cursor: pointer;
            box-shadow: 0 0 10px 2px #2fffc0, 0 1px 5px #0006;
            overflow: hidden;
            z-index: 1;
            transition: color 0.2s, background 0.2s, box-shadow 0.2s, transform 0.15s;
            outline: none;
        }
        .neon-btn span {
            position: relative;
            z-index: 2;
            letter-spacing: 1px;
            transition: color 0.2s;
            font-weight: 700;
        }
        .neon-btn::before, .neon-btn::after {
            content: '';
            position: absolute;
            border-radius: 100px;
            z-index: 0;
            transition: opacity 0.2s;
        }
        .neon-btn::before {
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, #2fffc0 0%, #8a2fff 70%, #00eaff 100%);
            filter: blur(8px);
            opacity: 0.8;
            animation: neonPulse 2.5s infinite alternate;
        }
        .neon-btn::after {
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, #2fffc0 0%, #8a2fff 70%, #00eaff 100%);
            opacity: 0.3;
        }
        @keyframes neonPulse {
            0% { filter: blur(8px) brightness(1); opacity: 0.8;}
            100% { filter: blur(16px) brightness(1.2); opacity: 1;}
        }
        .neon-btn:hover, .neon-btn:focus {
            color: #2fffc0;
            box-shadow: 0 0 24px 6px #8a2fff99, 0 2px 16px #2fffc088;
            transform: scale(1.07);
        }
        .neon-btn:hover::before {
            opacity: 1;
            filter: blur(12px) brightness(1.3);
        }
        .neon-submit {
            margin-top: 22px;
            font-size: 1.15rem;
            letter-spacing: 2px;
            background: #1c1c3d;
            min-width: 120px;
        }
        .active-btn {
            color: #fff !important;
            box-shadow: 0 0 40px 8px #ff3c70cc, 0 2px 16px #2fffc088 !important;
            background: linear-gradient(90deg, #ff3c70bb 0%, #2fffc0cc 100%) !important;
        }
        .no-db-warning {
            color: #ffb300;
            padding-top: 26px;
            text-align: center;
            font-size: 1rem;
            font-weight: 600;
            text-shadow: 0 0 6px #181828, 0 0 2px #fff6;
        }
        .jinda-error, .say-error {
            display:none;
            color:#ff6f6f;
            font-size:0.95rem;
            text-align:center;
            margin-bottom:10px;
        }
        /* Success box styles */
        .success-box {
            display: none;
            text-align: left;
            color: #fff;
            max-width: 500px;
            background: rgba(34, 34, 56, 0.99);
        }
        .success-box h1 {
            font-family: 'Orbitron', sans-serif;
            color: #2fffc0;
            margin-bottom: 18px;
            font-size: 2.3rem;
            text-shadow: 0 0 15px #2fffc0, 0 0 2px #fff;
            text-align: center;
        }
        .success-box ul {
            padding-left: 20px;
        }
        .success-box li {
            font-size: 1.08rem;
            margin-bottom: 12px;
        }
        .success-box .big-emoji {
            font-size: 3.2rem;
            margin-bottom: 22px;
            display: block;
            text-align: center;
        }
        .footer-msg {
            margin-top: 30px;
            color: #ffb300;
            text-align: center;
            font-size: 1rem;
            font-weight: 600;
            text-shadow: 0 0 6px #181828, 0 0 2px #fff6;
        }
        .next-btn-box {
            display: flex;
            justify-content: center;
            margin-top: 30px;
        }
        /* Nicknames page */
        .nicknames-page {
            display: none;
            max-width: 550px;
            background: rgba(34, 34, 56, 0.99);
        }
        .nicknames-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 24px;
        }
        .nicknames-table th, .nicknames-table td {
            border: 1px solid #2fffc0;
            padding: 8px 12px;
            text-align: left;
            color: #fff;
        }
        .nicknames-table th {
            background: #2d084d;
            color: #2fffc0;
            font-family: 'Orbitron', sans-serif;
        }
        .nicknames-table tr:nth-child(even) {
            background: #212142;
        }
        .nicknames-table tr:nth-child(odd) {
            background: #181828;
        }
        .nickname-note {
            color: #fff799;
            font-size: 1.06em;
            margin-top: 18px;
            text-align: center;
            font-weight: 500;
        }
        .sorry-text {
            color: #ed697e;
            font-size: 1em;
            font-style: italic;
        }
        /* Avatars in nicknames */
        .nickname-avatar {
            display: inline-block;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            margin-right: 10px;
            background: linear-gradient(135deg, #2fffc0 0%, #8a2fff 100%);
            color: #222;
            font-weight: bold;
            font-size: 1.1em;
            text-align: center;
            line-height: 28px;
            vertical-align: middle;
            box-shadow: 0 0 8px #2fffc088;
        }
        /* Story page */
        .story-page, .warden-page, .final-page {
            display: none;
            max-width: 700px;
            text-align: left;
            color: #fff;
            background: rgba(34, 34, 56, 0.99);
        }
        .story-section {
            margin-bottom: 24px;
            line-height: 1.7;
        }
        .story-section .emoji {
            font-size: 1.3em;
            vertical-align: middle;
        }
        .story-section .teacher-dialogue {
            font-style: italic;
            display: block;
            margin-left: 1.5em;
            margin-bottom: 4px;
        }
        .story-section hr {
            border: 0;
            border-bottom: 1px solid #2fffc0;
            margin: 20px 0 18px 0;
        }
        .emoji-reactions {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 14px;
        }
        .emoji-reaction-btn {
            background: transparent;
            border: none;
            font-size: 1.7rem;
            cursor: pointer;
            filter: drop-shadow(0 1px 2px #222);
            transition: transform 0.1s;
            user-select: none;
        }
        .emoji-reaction-btn:hover {
            transform: scale(1.25) rotate(-8deg);
        }
        .emoji-reaction-count {
            display: block;
            font-size: 0.8rem;
            color: #fff799;
            text-align: center;
            margin-top: -4px;
        }
        .typewriter {
            display: inline-block;
            overflow: hidden;
            border-right: .15em solid #2fffc0;
            white-space: nowrap;
            margin: 0 auto;
            letter-spacing: .12em;
            animation: typing 2.2s steps(30, end), blink-caret .75s step-end infinite;
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
        }
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #2fffc0; }
        }
        .page-flip {
            animation: pageflip 0.7s cubic-bezier(.68,-0.55,.27,1.55);
        }
        @keyframes pageflip {
            0% { transform: rotateY(-90deg) scale(0.95);}
            70% { transform: rotateY(15deg) scale(1.03);}
            100% { transform: rotateY(0deg) scale(1);}
        }
        .nickname-flip {
            transition: transform 0.8s cubic-bezier(.68,-0.55,.27,1.55);
            transform-style: preserve-3d;
        }
        .nickname-flip.flipped {
            transform: rotateY(180deg);
        }
        .nickname-card {
            background: rgba(24, 24, 48, 0.85);
            border-radius: 11px;
            box-shadow: 0 0 14px #2fffc044;
            padding: 8px 12px;
            margin: 6px 0;
            transition: box-shadow 0.2s;
            cursor: pointer;
            perspective: 600px;
            position: relative;
        }
        .nickname-card:hover {
            box-shadow: 0 0 20px #2fffc088, 0 0 0 2px #2fffc0;
        }
        .nickname-card .front, .nickname-card .back {
            position: absolute;
            width: 100%; height: 100%;
            top: 0; left: 0;
            backface-visibility: hidden;
        }
        .nickname-card .back {
            transform: rotateY(180deg);
            background: #2fffc0;
            color: #181828;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 11px;
            font-size: 1.1em;
            font-weight: 600;
        }
        .nickname-card .front {
            z-index: 2;
        }
        @media (max-width: 700px) {
            .page-box, .nicknames-page, .story-page, .warden-page, .final-page {
                width: 98vw;
                padding: 18px 2vw 16px 2vw;
                min-width: 0;
            }
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <!-- Progress bar -->
    <div class="progress-bar-outer">
        <div class="progress-bar-inner" id="progressBar"></div>
    </div>
    <!-- Login Form -->
    <div class="page-box" id="loginContainer">
        <form class="login-form" id="mainForm" autocomplete="off">
            <div class="typewriter" id="mainTitle">F.R.I.E.N.D.S.üíù</div>
            <h2>NAAM</h2>
            <div class="input-group">
                <input type="text" id="naam" required autocomplete="off" placeholder=" "/>
                <label for="naam">Naam likho (Enter your name)</label>
            </div>
            <h2>JINDA</h2>
            <div class="btn-group" id="jindaGroup">
                <button type="button" class="neon-btn" id="haa" tabindex="0">HAA</button>
                <button type="button" class="neon-btn" id="naa" tabindex="0">NAA</button>
            </div>
            <input type="hidden" id="jinda" required>
            <div class="jinda-error" id="jindaError">Select HAA or NAA</div>
            <div class="input-group" style="margin-top: 32px;">
                <label for="say" style="top: -10px; left: 8px; font-size: 0.85rem; color: #2fffc0; background: #181828; padding: 0 6px; border-radius: 6px; box-shadow: 0 0 5px #2fffc044;">Say something to me:</label>
                <textarea id="say" rows="3" required style="resize:vertical;width:100%;padding:12px;border-radius:8px;border:none;background:#181828;color:#fff;font-size:1rem;box-shadow:0 2px 12px #2fffc044;"></textarea>
            </div>
            <div class="say-error" id="sayError">Please say something!</div>
            <div class="next-btn-box">
                <button type="submit" class="neon-btn neon-submit" id="submitBtn" style="margin-top:8px;">
                    <span>THOKO</span>
                </button>
            </div>
            <div class="no-db-warning">
                <span>üòÜ No database here, so your data just vanishes like my motivation on Monday!</span>
            </div>
        </form>
    </div>
    <!-- Success Message (hidden by default) -->
    <div class="success-box page-box" id="successBox" style="display:none;">
        <span class="big-emoji">üéâ</span>
        <h1>DOSTI YAARI EMOTIONS</h1>
        <ul>
            <li>1. Yaar sach bolu toh tum log bahut yaad aa rahe ho.</li>
            <li>2. Aise lagta hai jaise koi part of life missing ho.</li>
            <li>3. Pehle har din masti hoti thi, ab sirf kaam aur boredom hai.</li>
            <li>4. Woh choti-choti baatein, lame jokes, aur nonstop bakchodi ‚Äî sab yaad aati hai.</li>
            <li>5. Kabhi kabhi toh pura flashback chal jaata hai dimaag mein.</li>
            <li>6. Tum logon ke bina har plan adhoora lagta hai.</li>
            <li>7. Group chat mein bhi ab woh dhamaka nahi raha.</li>
            <li>8. Seriously, milna chahiye jaldi, warna yaadon se hi dosti karni padegi.</li>
            <li>9. Chal, koi ek plan banate hain ‚Äî time, jagah fix karo!</li>
            <li>10. Tum sab jaise dost dobara nahi milte... bas mil jao ab wapas! ‚ù§Ô∏è</li>
        </ul>
        <div class="footer-msg">
            <span style="font-size:0.95em;">You can close this tab now. Have a great day!</span>
        </div>
        <div class="next-btn-box">
            <button class="neon-btn neon-submit" id="toNicknamesBtn"><span>THOKO ALSO</span></button>
        </div>
    </div>
    <!-- Nicknames Page (hidden by default) -->
    <div class="nicknames-page page-box" id="nicknamesPage" style="display:none;">
        <div class="nicknames-title">Bokchodiyaan üíÄ</div>
        <div id="nicknames-list"></div>
        <div class="nickname-note">
            (If someone wants to add their name, please contact me. <span class="sorry-text">Also sorry for that üòÖ</span>)
        </div>
        <div class="next-btn-box">
            <button class="neon-btn neon-submit" id="toStoryBtn"><span>PHIR SE THOKO</span></button>
        </div>
    </div>
    <!-- Story Page (hidden by default) -->
    <div class="story-page page-box" id="storyPage" style="display:none;">
        <div class="story-title">Hello doston!</div>
        <div class="emoji-reactions" id="emojiReactions1">
            <button class="emoji-reaction-btn" data-emoji="üòÇ">üòÇ<span class="emoji-reaction-count" id="emojiCount-üòÇ">0</span></button>
            <button class="emoji-reaction-btn" data-emoji="‚ù§Ô∏è">‚ù§Ô∏è<span class="emoji-reaction-count" id="emojiCount-‚ù§Ô∏è">0</span></button>
            <button class="emoji-reaction-btn" data-emoji="üî•">üî•<span class="emoji-reaction-count" id="emojiCount-üî•">0</span></button>
            <button class="emoji-reaction-btn" data-emoji="ü•≤">ü•≤<span class="emoji-reaction-count" id="emojiCount-ü•≤">0</span></button>
        </div>
        <div class="story-section">
            Aaj main leke aaya hoon hamari school life ki ek aisi story, jo funny bhi hai, emotional bhi... aur thodi thodi censored bhi!<br>
            <b>Toh chalo, shuru karte hain ‚Äì yaadon ka ye safar!</b>
            <hr>
        </div>
        <div class="story-section">
            <b>Sabse pehle Class 8th ‚Äì</b><br>
            Jahan Rishav Sir se mila motivation. Padhai ki shuruaat wahi se hui.<br><br>
            <b>Class 9th me enter kiya, aur mila tharak waale Chandraketu Sir,</b><br>
            Jinka padhane ka style hi alag tha ‚Äì middle finger dikhake padhaate the! üò≥<br><br>
            <b>Phir aaye Sudhakar Sir ‚Äì</b><br>
            Bina wajah ka maar, bina reason ka gussa‚Ä¶ lekin dil se teacher the (ya thhe?)<br><br>
            <b>Divya Jyoti ka science ‚Äì</b><br>
            Are bhai üíÄ‚Ä¶ maja hi aa jaata tha but kuch samjh nhi <br><br>
            <b>Sujit aur Pratyush Sir ‚Äì</b><br>
            Humare school ke superheroes. Hamesha help karne ko ready.<br><br>
            <b>Vikash Sir ka daily dialogue toh sabko yaad hai:</b>
            <span class="teacher-dialogue">‚ÄúPadho na ji, exam sir pe hai, tum log ko kuch samajh hi nahi aa raha hai! Phir hamara bolna sir photo dikhaiyein naa!! ModernABC laga lo or Stalin malohotra aur alsb book laga lo‚Äù</span>
            <b> Arun sir-</b>
            bat bat par bjp ko bich mein le lena aur other party ko blame thokna aur pura motivate karna ki padh lo re babu NCERT mother book hain<br>
            <hr>
        </div>
        <div class="story-section">
            Maths aur English ko ignore karke, aur har dusre subject me jakar sona ‚Äì<br>
            Humara unofficial timetable ban chuka tha.<br><br>
            Or phir principal sir ka gussa:
            <span class="teacher-dialogue">‚ÄúI sham on you boys! Mujhe chhote chhote bachche aa ke kehte hai udhar bhaiya log maa behen ki gaali dete hai‚Äù</span>
            (Shame se zyada ‚Äúsham‚Äù lagta tha üòÖ)
            <hr>
        </div>
        <div class="story-section">
            <b>Ab thoda masala zone me chalte hain...</b><br><br>
            <b>Prantik aur Chandraketu Sir ka rishta ‚Äì</b><br>
            Bhai kya chemistry thi un dono me, full filmy! üòè<br><br>
            <b>Nishant Sir ‚Äì</b><br>
            Jo dil me tha, wahi zubaan par. Bilkul bindass. No filter!<br><br>
            <b>Neeraj Sir ‚Äì</b><br>
            Har baar bolte:
            <span class="teacher-dialogue">‚ÄúWoh 4 bacche ko chhodo, tum log bhi seekh lo re! Jee-NEET karega to kaam aayega!‚Äù</span><br>
            <b>Ujjwal Sir ka famous dialogue:</b>
            <span class="teacher-dialogue">‚ÄúAbhi tum log lalla ho re, samajh rahe ho na?(phir hath ko move krna)‚Äù</span><br>
            <b>Guddu Sir ka warning tone:</b>
            <span class="teacher-dialogue">‚ÄúTor dunga!‚Äù</span><br>
            <b>Ranjan Sir ka upgraded version:</b>
            <span class="teacher-dialogue">‚ÄúKut dunga! <br>satyam ke sath kahani banana aur kundan sir ka towel ko petrol pump tak pahuchana ‚Äù</span>
            (Physics ka asli matlab tab samjha üò¨)
            <br><b>Undranil sir ka DJ Snake wala version:</b><br>
            Maths ,Physics, Chemistry sath mein inse related jo bhi work hota hai like BP check krna DJ operate karna. Tum jo karna lo, ("He was the example of an engineer üòÖ ")
            <hr>
        </div>
        <div class="story-section">
            <b>Kundan Sir ‚Äì</b><br>
            Projector bol ke YouTube laga dete the, aur class ban jata mini-theatre. aur unka kehna (toh chaleye) aur saurabh aur satyam ka chalna shuru ho jana<br><br>
            <b>Sudipto Sir ko har waqt bina wajah pareshan karna ‚Äì</b><br>
            Hamari hobby thi, unka patience legend tha.<br><br>
            <b>Manoranjan Sir ‚Äì</b><br>
            Class ka philosopher. Gyan hi gyan. Kabhi kabhi over ho jaata tha.<br><br>
            <b>Rishav Sir ‚Äì</b><br>
            Woh iconic biology moment ‚Äì sperm ka demo‚Ä¶ "beta hath se nikalta hai!"<br>
            Tab samajh aaya ki science kitni "deep" hoti hai. üòÖ
            <hr>
        </div>
        <div class="story-section">
            <b>Simon Sir ‚Äì</b><br>
            "Unka G** phaad marna 5th me hi!‚Äù*<br>
            <b>Ravi Sir ‚Äì</b><br>
            Janwar ke tarah notes likhwaate the ‚Äì itna likhwaate the ki haath ka dard permanent ho gaya. padh lo na re aage exam hn!!! <br><br>
            <b>DB wandgr Sir ‚Äì</b><br>
            Unki class thi ya chutney ki recipe? Taste alag hi tha. <br>aur kehna le le haryali dekh <br> pura thok pura de halka dabaüòÇ
            <hr>
        </div>
        <div class="story-section">
            <b>Aur fir aaye maa-beta jodi ‚Äì</b><br>
            Premlata Ma‚Äôam aur Raushan ‚Äì ekdum "sanskaar aur suspense" ka combo.<br><br>
            <b>DK Jha Sir ‚Äì</b><br>
            Pehle bolte:
            <span class="teacher-dialogue">‚ÄúYe log padne waale nahi lagte!‚Äù</span>
            Aur fir kuch time baad:
            <span class="teacher-dialogue">‚ÄúAb thoda thoda lag raha hai. <br>aur unka kehna padh lo na re DAV centre pada hn kachkacha ke hagh dega waha par ‚Äù</span>
            <br><br>
            Last year ka baccha ‚Äì sabse sahi tha. Bilkul ideal student.<br><br>
            <b>Aur last me Archana Ma‚Äôam ka zikr ‚Äì</b><br>
            Unka naam lete hi‚Ä¶ censored chaloo ho jata hai ‚Äì *** ** *********<br>
            (Thoda privacy maintain karna padta hai boss üòÖ)
            <hr>
        </div>
        <!-- NEXT BUTTON SECTION (before warden story) -->
        <div class="next-btn-box">
            <button class="neon-btn neon-submit" id="toWardenBtn"><span>THOKO NA RE</span></button>
        </div>
    </div>
    <!-- Warden Page (hidden by default) -->
    <div class="warden-page page-box" id="wardenPage" style="display:none;">
        <div class="emoji-reactions" id="emojiReactions2">
            <button class="emoji-reaction-btn" data-emoji="üòé">üòé<span class="emoji-reaction-count" id="emojiCount2-üòé">0</span></button>
            <button class="emoji-reaction-btn" data-emoji="üòÇ">üòÇ<span class="emoji-reaction-count" id="emojiCount2-üòÇ">0</span></button>
            <button class="emoji-reaction-btn" data-emoji="ü•∫">ü•∫<span class="emoji-reaction-count" id="emojiCount2-ü•∫">0</span></button>
        </div>
        <div class="story-section">
            <div class="kuch hamare warden ke bare main">
                <b> Suru karte hai 3rd floor se</b><br>
                ye floor aise bole toh<b>deepak sir</b> ke under aata hn.<br>jinka ek famous dailogue  <span class="teacher-dialogue"> "ek mukka denge na aur aaj tak ke sare batch ke bacche ka nam yad ho ya na par unka admission number pura acche se yad rkhna."</span>
                <b> Phir aata hai 2nd floor</b><br>
            </div>
            <hr>
        </div>
        <!-- NEW NEXT BUTTON BEFORE "Toh doston..." -->
        <div class="next-btn-box">
            <button class="neon-btn neon-submit" id="toFinalBtn"><span>THOKO</span></button>
        </div>
    </div>
    <!-- Final Page (hidden by default) -->
    <div class="final-page page-box" id="finalPage" style="display:none;">
        <div class="story-section">
            <b>Toh doston...</b><br>
            Ye thi hamari school life ki original web series ‚Äì<br>
            Full drama, full comedy, thoda romance, thoda action aur full emotion.<br><br>
            Teachers ka gussa ho ya unka pyaar, unhone sabko kuch na kuch sikhaya zaroor.<br>
            Aur ye yaadein... humesha yaad rahengi.<br><br>
            Thank you sabko ‚Äì teachers, friends aur in yaadon ko banane wale har ek insaan ko.<br>
            <hr>
            <span class="emoji">ü´°</span> Jai school life, jai nostalgia!
        </div>
    </div>
    <script>
        // Particle.js background
        particlesJS("particles-js", {
            "particles": {
                "number": { "value": 75, "density": { "enable": true, "value_area": 800 } },
                "color": { "value": ["#2fffc0","#8a2fff","#fff","#00eaff"] },
                "shape": { "type": "circle" },
                "opacity": { "value": 0.54, "random": true },
                "size": { "value": 7, "random": true },
                "line_linked": { "enable": false },
                "move": {
                    "enable": true,
                    "speed": 2.1,
                    "direction": "none",
                    "random": true,
                    "straight": false,
                    "out_mode": "out"
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": { "enable": true, "mode": "repulse" },
                    "onclick": { "enable": true, "mode": "push" }
                },
                "modes": {
                    "repulse": { "distance": 80, "duration": 0.4 },
                    "push": { "particles_nb": 4 }
                }
            },
            "retina_detect": true
        });

        // Typewriter effect for main title (initial load only)
        // Already handled by CSS .typewriter, so nothing required in JS unless you want to re-trigger.

        // Progress bar logic
        const progressBar = document.getElementById('progressBar');
        function setProgress(percent) {
            progressBar.style.width = percent + "%";
        }
        // All page IDs in order
        const pageOrder = [
            'loginContainer', 'successBox', 'nicknamesPage', 'storyPage', 'wardenPage', 'finalPage'
        ];
        function updateProgressBar(currentPageId) {
            let idx = pageOrder.indexOf(currentPageId);
            if (idx < 0) idx = 0;
            setProgress(Math.round((idx) / (pageOrder.length - 1) * 100));
        }
        // Button selection logic for HAA/NAA
        const haaBtn = document.getElementById('haa');
        const naaBtn = document.getElementById('naa');
        const jindaInput = document.getElementById('jinda');
        const jindaError = document.getElementById('jindaError');
        const sayInput = document.getElementById('say');
        const sayError = document.getElementById('sayError');
        haaBtn.addEventListener('click', function() {
            haaBtn.classList.add('active-btn');
            naaBtn.classList.remove('active-btn');
            jindaInput.value = 'HAA';
            jindaError.style.display = 'none';
        });
        naaBtn.addEventListener('click', function() {
            naaBtn.classList.add('active-btn');
            haaBtn.classList.remove('active-btn');
            jindaInput.value = 'NAA';
            jindaError.style.display = 'none';
        });

        // Form submit logic
        document.getElementById('mainForm').addEventListener('submit', function(e) {
            let valid = true;
            const naam = document.getElementById('naam').value.trim();
            if (!jindaInput.value) {
                jindaError.style.display = 'block';
                valid = false;
            } else {
                jindaError.style.display = 'none';
            }
            if (!sayInput.value.trim()) {
                sayError.style.display = 'block';
                valid = false;
            } else {
                sayError.style.display = 'none';
            }
            if (!valid) {
                e.preventDefault();
                return;
            }
            // Hide login, show success
            showPage('successBox');
            e.preventDefault();
        });

        // Page flip animation helper
        let lastPageId = "loginContainer";
        function showPage(pageId) {
            // Hide all pages
            for (let pid of pageOrder) {
                const el = document.getElementById(pid);
                if (el) el.style.display = "none";
            }
            // Show new page
            const el = document.getElementById(pageId);
            if (el) {
                el.style.display = "block";
                el.classList.remove("page-flip");
                void el.offsetWidth; // reflow
                el.classList.add("page-flip");
            }
            updateProgressBar(pageId);
            lastPageId = pageId;
        }

        // Success > Nicknames
        document.getElementById('toNicknamesBtn').addEventListener('click', function(e) {
            showPage('nicknamesPage');
            e.preventDefault();
        });
        // Nicknames > Story
        document.getElementById('toStoryBtn').addEventListener('click', function(e) {
            showPage('storyPage');
            e.preventDefault();
        });
        // Story > Warden
        document.getElementById('toWardenBtn').addEventListener('click', function(e) {
            showPage('wardenPage');
            e.preventDefault();
        });
        // Warden > Final
        document.getElementById('toFinalBtn').addEventListener('click', function(e) {
            showPage('finalPage');
            confetti({particleCount: 160, spread: 80, origin: { y: 0.65 }});
            e.preventDefault();
        });

        // Dynamic Nickname List with flip cards & random emoji/fact
        const nicknamesData = [
            { name: "Ajay", avatar: "ü¶Å", back: "Always hungry for samosas!" },
            { name: "Alian", avatar: "üëΩ", back: "Alien Sir ka asli dost!" },
            { name: "Anisur", avatar: "üêª", back: "Has the best laugh!" },
            { name: "Musna", avatar: "üå∂Ô∏è", back: "Spicy jokes specialist" },
            { name: "Arhan", avatar: "ü•∑", back: "Ninja in the group" },
            { name: "Kallu", avatar: "ü•ö", back: "Anda king" },
            { name: "Arjun", avatar: "ü¶∏", back: "Class ka superhero" },
            { name: "Kariya", avatar: "ü¶Ü", back: "Quacks under pressure" },
            { name: "Ashif", avatar: "üé©", back: "Magic in every plan" },
            { name: "kallua", avatar: "üç≥", back: "Desi Masterchef" },
            { name: "Salman", avatar: "üî•", back: "Always brings the heat" },
            { name: "bakkar", avatar: "üêè", back: "Never backs down!" },
            { name: "Om babu", avatar: "üîî", back: "Always on time (or not?)" },
            { name: "Gannu", avatar: "üêò", back: "Memory like an elephant" },
            { name: "Hasan", avatar: "üé∏", back: "Guitar hero" },
            { name: "Munna", avatar: "üß¢", back: "Cap collector" },
            { name: "Ishan", avatar: "‚ö°", back: "Quickest comebacks" },
            { name: "Milk Factory", avatar: "ü•õ", back: "Always fresh" },
            { name: "Shourya", avatar: "üéØ", back: "Never misses a target" },
            { name: "maugi", avatar: "üòé", back: "Coolest in the gang" },
            { name: "Naitik", avatar: "üß†", back: "Brainy guy" },
            { name: "Rassian", avatar: "üöÄ", back: "Russian at heart!" },
            { name: "Piyush", avatar: "üêº", back: "Panda vibes" },
            { name: "Chussar", avatar: "üå™Ô∏è", back: "Never stops talking" },
            { name: "Prantik", avatar: "ü¶â", back: "Wise owl" },
            { name: "Bargar", avatar: "üçî", back: "Burger lover" },
            { name: "Pranav", avatar: "üï∂Ô∏è", back: "Secret agent?" },
            { name: "Pichcha", avatar: "üêí", back: "Monkeying around" },
            { name: "Raj", avatar: "üëë", back: "Always the king" },
            { name: "Deru", avatar: "ü¶¶", back: "Playful always" },
            { name: "Satyam", avatar: "üßô", back: "Magician of mischief" },
            { name: "Bauna", avatar: "ü•î", back: "Short but strong" },
            { name: "Satyam", avatar: "üßô", back: "Magician of mischief" },
            { name: "Tamatar", avatar: "üçÖ", back: "Full of juice" },
            { name: "Sonu", avatar: "ü¶Ñ", back: "Rare find" },
            { name: "Kalwa", avatar: "ü¶á", back: "Night owl" },
            { name: "Sudhanshu", avatar: "ü¶â", back: "Knows everything" },
            { name: "Anda", avatar: "ü•ö", back: "Eggspert" },
            { name: "Sumit", avatar: "üèè", back: "Cricket star" },
            { name: "Gulli", avatar: "üé≥", back: "Bowling king" },
            { name: "Yashwardhan", avatar: "üõ°Ô∏è", back: "Defender of the group" },
            { name: "Gola", avatar: "üçß", back: "Sweetest of all" },
        ];
        function renderNicknames() {
            const list = document.getElementById('nicknames-list');
            list.innerHTML = '';
            nicknamesData.forEach((n, i) => {
                // Flip card structure
                const card = document.createElement('div');
                card.className = 'nickname-card';
                card.innerHTML = `
                    <div class="nickname-flip" id="flip-${i}">
                        <div class="front">
                            <span class="nickname-avatar">${n.avatar ? n.avatar : n.name[0]}</span>
                            ${n.name}
                        </div>
                        <div class="back">
                            ${n.back}
                        </div>
                    </div>
                `;
                // Flip on click
                card.addEventListener('click', function() {
                    const flip = card.querySelector('.nickname-flip');
                    flip.classList.toggle('flipped');
                });
                list.appendChild(card);
            });
        }
        renderNicknames();

        // Emoji reactions (storyPage and wardenPage)
        function setupEmojiReactions(containerId, prefix="") {
            const container = document.getElementById(containerId);
            if (!container) return;
            container.querySelectorAll('.emoji-reaction-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const emoji = btn.getAttribute('data-emoji');
                    const countSpan = document.getElementById((prefix ? prefix : '') + 'emojiCount' + (prefix ? '' : '-') + emoji);
                    let count = parseInt(countSpan.textContent, 10);
                    count++;
                    countSpan.textContent = count;
                    btn.classList.add('active-btn');
                    setTimeout(() => btn.classList.remove('active-btn'), 300);
                });
            });
        }
        // Setup emoji reactions for both pages
        setupEmojiReactions('emojiReactions1');
        setupEmojiReactions('emojiReactions2','2-');

        // On load: show first page and set progress
        showPage('loginContainer');
    </script>
</body>
</html>
